
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Project structure &mdash; Graphics LCD component v documentation</title>
    <link rel="stylesheet" href="_static/xdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/xcomment.js"></script>
    <link rel="top" title="Graphics LCD component v documentation" href="index.html" />
    <link rel="next" title="Programming Guide" href="programming.html" />
    <link rel="prev" title="Component Description" href="system.html" /> 

<script>
function setheight() {
h1 = document.getElementById('d1').style.height;
h2 = document.getElementById('d2').style.height;

if (parseInt(h1) > parseInt(h2)) {
document.getElementById('d2').style.height=h1 + "px";
}
else {
document.getElementById('d1').style.height=h2 + "px";
}

}
</script>
</head>

<body onload="setheight();">

  

    <div class="document" id='d1'>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
<div style="float: right">
<a href="system.html"
                        title="previous chapter"> &lt&lt </a>
<a href="programming.html"
                        title="next chapter"> &gt&gt </a></p>
</div>

            
  <div class="section" id="project-structure">
<h1>Project structure<a class="headerlink" href="#project-structure" title="Permalink to this headline">¶</a></h1>
<p>The component sc_lcd includes the standalone module &#8216;module_lcd&#8217;.
It can be used by the application to drive a graphics LCD module.</p>
<div class="section" id="configuration-defines">
<h2>Configuration Defines<a class="headerlink" href="#configuration-defines" title="Permalink to this headline">¶</a></h2>
<p>The following defines must be configured for the LCD component based on the Graphics LCD module used and can be found in the files <tt class="docutils literal"><span class="pre">lcd_defines.h</span></tt>
The default values shown are for target TM043NDH02</p>
<table border="1" class="docutils">
<caption>LCD Defines</caption>
<colgroup>
<col width="50%" />
<col width="33%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Define</th>
<th class="head">Description</th>
<th class="head">Default</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><strong>LCD_WIDTH</strong></td>
<td>The width of the LCD screen in terms of pixels.</td>
<td>480</td>
</tr>
<tr><td><strong>LCD_HEIGHT</strong></td>
<td>The height of the LCD screen in terms of rows.</td>
<td>272</td>
</tr>
<tr><td><strong>LCD_BITS_PER_PIXEL</strong></td>
<td>The number of bits per pixel</td>
<td>16</td>
</tr>
<tr><td><strong>LCD_HOR_PORCH</strong></td>
<td>This is the horizontal porch timing for the LCD.
The value given here should include the horizontal blanking period, horizontal front porch and horizontal back porch.
The user should refer to the LCD datasheet to find the values.</td>
<td>45</td>
</tr>
<tr><td><strong>LCD_HSYNC_TIME</strong></td>
<td>The total HYSYN time in number of clocks</td>
<td>Calculated from LCD_WIDTH and LCD_HOR_PORCH</td>
</tr>
<tr><td><strong>LCD_VERT_PORCH</strong></td>
<td>This is the vertical porch timing for the LCD.
The value given here should include the vertical blanking period, vertical front porch and vertical back porch.
The user should refer to the LCD datasheet to find the values</td>
<td>Calculated based on the HYSNC timing</td>
</tr>
<tr><td><strong>LCD_FREQ_DIVIDEND</strong></td>
<td>The frequency dividend and divisor are used to calculate the frequency to be configured</td>
<td>100</td>
</tr>
<tr><td><strong>LCD_FREQ_DIVISOR</strong></td>
<td>The frequency dividend and divisor are used to calculate the frequency to be configured</td>
<td>8</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>The LCD display module functionality is defined in</dt>
<dd><ul class="first last simple">
<li><tt class="docutils literal"><span class="pre">lcd.xc</span></tt></li>
<li><tt class="docutils literal"><span class="pre">lcd.h</span></tt></li>
<li><tt class="docutils literal"><span class="pre">lcd_defines.h</span></tt></li>
</ul>
</dd>
</dl>
<p>The function <tt class="xref c c-func docutils literal"><span class="pre">lcd()</span></tt> in lcd.xc is handled in the thread.</p>
<dl class="function">
<dt id="lcd_server">
void <tt class="descname">lcd_server</tt><big>(</big>chanend<em>&nbsp;c_lcd</em>, lcd_ports<em>&nbsp;&amp;ports</em><big>)</big><a class="headerlink" href="#lcd_server" title="Permalink to this definition">¶</a></dt>
<dd><p>The function handles the LCD graphics module.</p>
<p>It handles the LCD module&#8217;s clock, vertical sync and horizontal sync and data parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>c_lcd</strong> &#8211; The channel end number</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="figure align-center">
<img alt="_images/lcd_function.png" src="_images/lcd_function.png" />
</div>
<dl class="function">
<dt id="lcd_init">
void <tt class="descname">lcd_init</tt><big>(</big>chanend<em>&nbsp;c_lcd</em><big>)</big><a class="headerlink" href="#lcd_init" title="Permalink to this definition">¶</a></dt>
<dd><p>The function to initialize the LCD data write.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>c_lcd</strong> &#8211; The channel end number</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lcd_update">
void <tt class="descname">lcd_update</tt><big>(</big>chanend<em>&nbsp;c_lcd</em>, unsigned<em>&nbsp;buffer[]</em><big>)</big><a class="headerlink" href="#lcd_update" title="Permalink to this definition">¶</a></dt>
<dd><p>The function updates the LCD channel with the data in the buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>c_lcd</strong> &#8211; The channel end number</li>
<li><strong>buffer[]</strong> &#8211; The buffer containing the data to be updated</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The function should be called for each line of LCD data.</p>
<p>There should be no delay between writes for consecutive lines of data as the LCD server expects continuous data till the entire screen is refreshed</p>
</dd></dl>

</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" id='d2'>
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Graphics LCD component</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html#resource-requirements">Resource requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="hw.html">Hardware Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="system.html">Component Description</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration-defines">Configuration Defines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="programming.html">Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example Applications</a></li>
</ul>

<div id="searchbox" style="display: none;margin-bottom: 10px;">
  <h3>Search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>



    <div class="footer">
    </div>
  </body>
</html>



