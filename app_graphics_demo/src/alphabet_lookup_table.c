#include "character_specific_includes.h"

extern unsigned short alpha_A_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_B_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_C_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_D_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_E_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_F_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_G_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_H_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_I_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_J_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_K_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_L_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_M_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_N_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_O_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_P_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_Q_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_R_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_S_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_T_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_U_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_V_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_W_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_X_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_Y_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_Z_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];
extern unsigned short alpha_SPACE_6x6[ALPHA_HEIGHT_6x6][ALPHA_WIDTH_6x6];

extern unsigned char alpha_space_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
/* 24 x 24 pixel */
extern unsigned char alpha_A_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_B_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_C_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_D_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_E_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_F_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_G_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_H_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_I_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_J_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_K_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_L_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_M_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_N_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_O_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_P_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Q_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_R_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_S_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_T_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_U_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_V_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_W_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_X_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Y_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Z_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];


extern unsigned char alpha_Ai_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Bi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ci_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Di_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ei_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Fi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Gi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Hi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ii_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ji_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ki_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Li_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Mi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ni_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Oi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Pi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Qi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ri_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Si_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ti_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Ui_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Vi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Wi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Xi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Yi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];
extern unsigned char alpha_Zi_16x16[ALPHA_HEIGHT_16x16][WIDTH_16x16];


typedef struct
{
	char alpha;
	unsigned short * buffer_pointer;
}table_alpha;

/* Font look up table for 6 * 6 pixel characters */
table_alpha lookup_table_6x6[LOOKUP_TABLE_SIZE_6x6] = {
		{'A', (unsigned short *)&alpha_A_6x6 },
		{'B', (unsigned short *)&alpha_B_6x6 },
		{'C', (unsigned short *)&alpha_C_6x6 },
		{'D', (unsigned short *)&alpha_D_6x6 },
		{'E', (unsigned short *)&alpha_E_6x6 },
		{'F', (unsigned short *)&alpha_F_6x6 },
		{'G', (unsigned short *)&alpha_G_6x6 },
		{'H', (unsigned short *)&alpha_H_6x6 },
		{'I', (unsigned short *)&alpha_I_6x6 },
		{'J', (unsigned short *)&alpha_J_6x6 },
		{'K', (unsigned short *)&alpha_K_6x6 },
		{'L', (unsigned short *)&alpha_L_6x6 },
		{'M', (unsigned short *)&alpha_M_6x6 },
		{'N', (unsigned short *)&alpha_N_6x6 },
		{'O', (unsigned short *)&alpha_O_6x6 },
		{'P', (unsigned short *)&alpha_P_6x6 },
		{'Q', (unsigned short *)&alpha_Q_6x6 },
		{'R', (unsigned short *)&alpha_R_6x6 },
		{'S', (unsigned short *)&alpha_S_6x6 },
		{'T', (unsigned short *)&alpha_T_6x6 },
		{'U', (unsigned short *)&alpha_U_6x6 },
		{'V', (unsigned short *)&alpha_V_6x6 },
		{'W', (unsigned short *)&alpha_W_6x6 },
		{'X', (unsigned short *)&alpha_X_6x6 },
		{'Y', (unsigned short *)&alpha_Y_6x6 },
		{'Z', (unsigned short *)&alpha_Z_6x6 },
		{' ', (unsigned short *)&alpha_SPACE_6x6 }
};

/* Font look up table for 16 * 16 pixel characters */
table_alpha lookup_table_16x16[LOOKUP_TABLE_SIZE_16x16] = {
		{'A', (unsigned short *)&alpha_A_16x16 },
		{'B', (unsigned short *)&alpha_B_16x16 },
		{'C', (unsigned short *)&alpha_C_16x16 },
		{'D', (unsigned short *)&alpha_D_16x16 },
		{'E', (unsigned short *)&alpha_E_16x16 },
		{'F', (unsigned short *)&alpha_F_16x16 },
		{'G', (unsigned short *)&alpha_G_16x16 },
		{'H', (unsigned short *)&alpha_H_16x16 },
		{'I', (unsigned short *)&alpha_I_16x16 },
		{'J', (unsigned short *)&alpha_J_16x16 },
		{'K', (unsigned short *)&alpha_K_16x16 },
		{'L', (unsigned short *)&alpha_L_16x16 },
		{'M', (unsigned short *)&alpha_M_16x16 },
		{'N', (unsigned short *)&alpha_N_16x16 },
		{'O', (unsigned short *)&alpha_O_16x16 },
		{'P', (unsigned short *)&alpha_P_16x16 },
		{'Q', (unsigned short *)&alpha_Q_16x16 },
		{'R', (unsigned short *)&alpha_R_16x16 },
		{'S', (unsigned short *)&alpha_S_16x16 },
		{'T', (unsigned short *)&alpha_T_16x16 },
		{'U', (unsigned short *)&alpha_U_16x16 },
		{'V', (unsigned short *)&alpha_V_16x16 },
		{'W', (unsigned short *)&alpha_W_16x16 },
		{'X', (unsigned short *)&alpha_X_16x16 },
		{'Y', (unsigned short *)&alpha_Y_16x16 },
		{'Z', (unsigned short *)&alpha_Z_16x16 },
		{' ', (unsigned short *)&alpha_space_16x16 }
};

/* Font look up table for 16 * 16 pixel characters in italics */
table_alpha lookup_table_16x16_italics[LOOKUP_TABLE_SIZE_16x16] = {
		{'A', (unsigned short *)&alpha_Ai_16x16 },
		{'B', (unsigned short *)&alpha_Bi_16x16 },
		{'C', (unsigned short *)&alpha_Ci_16x16 },
		{'D', (unsigned short *)&alpha_Di_16x16 },
		{'E', (unsigned short *)&alpha_Ei_16x16 },
		{'F', (unsigned short *)&alpha_Fi_16x16 },
		{'G', (unsigned short *)&alpha_Gi_16x16 },
		{'H', (unsigned short *)&alpha_Hi_16x16 },
		{'I', (unsigned short *)&alpha_Ii_16x16 },
		{'J', (unsigned short *)&alpha_Ji_16x16 },
		{'K', (unsigned short *)&alpha_Ki_16x16 },
		{'L', (unsigned short *)&alpha_Li_16x16 },
		{'M', (unsigned short *)&alpha_Mi_16x16 },
		{'N', (unsigned short *)&alpha_Ni_16x16 },
		{'O', (unsigned short *)&alpha_Oi_16x16 },
		{'P', (unsigned short *)&alpha_Pi_16x16 },
		{'Q', (unsigned short *)&alpha_Qi_16x16 },
		{'R', (unsigned short *)&alpha_Ri_16x16 },
		{'S', (unsigned short *)&alpha_Si_16x16 },
		{'T', (unsigned short *)&alpha_Ti_16x16 },
		{'U', (unsigned short *)&alpha_Ui_16x16 },
		{'V', (unsigned short *)&alpha_Vi_16x16 },
		{'W', (unsigned short *)&alpha_Wi_16x16 },
		{'X', (unsigned short *)&alpha_Xi_16x16 },
		{'Y', (unsigned short *)&alpha_Yi_16x16 },
		{'Z', (unsigned short *)&alpha_Zi_16x16 },
		{' ', (unsigned short *)&alpha_space_16x16 }

};

void get_character_6x6(char alpha, unsigned short char_buffer[ALPHA_HEIGHT_6x6][ALPHA_HEIGHT_6x6])
{
 	unsigned table_loop = 0;
 	unsigned buffer_row = 0, buffer_col = 0;
    unsigned short * temp_ptr_1;
    unsigned short * temp_ptr_2;

    temp_ptr_1 = (unsigned short*)char_buffer;

	/* Loop through the look-up table to find the matching character */
    /* Break once the match is found */
    for (table_loop = 0; table_loop < LOOKUP_TABLE_SIZE_6x6; table_loop++)
    {
      if (lookup_table_6x6[table_loop].alpha == alpha)
      {
    	break;
      }
    }

    temp_ptr_2 = lookup_table_6x6[table_loop].buffer_pointer;

	/* Copy the pixel values to the char_buffer */
    for (buffer_row = 0; buffer_row < ALPHA_HEIGHT_6x6; buffer_row++)
	{
	  for (buffer_col = 0; buffer_col < ALPHA_WIDTH_6x6; buffer_col++)
	  {
		  *temp_ptr_1  = *temp_ptr_2;
		  temp_ptr_1++;
		  temp_ptr_2++;
	  }
	}
}

/* To search the lookup table and find the pixel coding for a 16 * 16 character */
void get_character_16x16(char alpha, unsigned short char_buffer[ALPHA_HEIGHT_16x16][ALPHA_WIDTH_16x16])
{
	unsigned table_loop = 0;
	unsigned buffer_row = 0, buffer_col = 0;
	unsigned short * temp_ptr_1;
	unsigned char * temp_ptr_2;
	unsigned temp_shift = 7;
	unsigned char temp;
    text_feature feature = TEXT_NONE;
    unsigned match = 0;

    feature = get_text_feature();
	temp_ptr_1 = (unsigned short *)char_buffer;

	/* Loop through the look-up table to find the matching character */
    /* Break once the match is found */
	for (table_loop = 0; table_loop < LOOKUP_TABLE_SIZE_16x16; table_loop++)
	{
	   /* The lookup table selected is based on the text feature.
	    * The text feature can be either None, Bold, Italics or Bold and Italics
	    */
		switch(feature)
	   {
	   case TEXT_NONE:
	     if (lookup_table_16x16[table_loop].alpha == alpha)
	     {
	  	     match = 1;
	     }
	     break;

	   case TEXT_ITALIC:
	   	 if (lookup_table_16x16_italics[table_loop].alpha == alpha)
	   	 {
	   	     match = 1;
	   	 }
	   	 break;

	   case TEXT_BOLD:
		   break;

	   case TEXT_BOLDITALIC:
		   break;
	   }
	   if (match)
	       break;

	}

	switch(feature)
	{
	case TEXT_NONE:
		temp_ptr_2 = (unsigned char *)lookup_table_16x16[table_loop].buffer_pointer;
		break;
	case TEXT_ITALIC:
		temp_ptr_2 = (unsigned char *)lookup_table_16x16_italics[table_loop].buffer_pointer;
		break;
	case TEXT_BOLD:
		   break;

	case TEXT_BOLDITALIC:
		   break;
	}


    /* For a 16 * 16 pixel character, each pixel value is encoded as 1 bit
     * The entire 16 pixel is stored as 2 bytes
     * A 16 * 16 pixel character is stored as 2 bytes * 16 rows data
     * When copying the pixel data to the character buffer, the bit decoding should be done
     */
	for (buffer_row = 0; buffer_row < ALPHA_HEIGHT_16x16; buffer_row++)
	{
		  for (buffer_col = 0; buffer_col < WIDTH_16x16; buffer_col++)
		  {
			  temp = *temp_ptr_2;

			  while(temp_shift > 0)
			  {
   			      *temp_ptr_1 = (((0x01 << temp_shift) & temp) > 0);
				  temp_shift--;
				  temp_ptr_1++;
			  }
			  *temp_ptr_1 = (temp & 0x01);
			  temp_shift = 7;
			  temp_ptr_1++;
			  temp_ptr_2++;

		  }
     }


}
